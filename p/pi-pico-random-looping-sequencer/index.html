<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="This module is licensed under the MIT License\nModule GitHub link\nA random control voltage and trigger/gate sequencer Eurorack module This module is a random CV and trigger/gate sequencer with a built in quantizer with predefined scales. An upgrade from my first random sequencer module.\nBuilt with the Pi Pico. Coded in Python.\nDemo "><title>Pi Pico Random Looping Sequencer</title>
<link rel=canonical href=https://diysynthmnl.github.io/p/pi-pico-random-looping-sequencer/><link rel=stylesheet href=/scss/style.min.d240b77c681f8e6d33fb763a9cc21e226668c253924c1af8db65a78271c0313e.css><meta property='og:title' content="Pi Pico Random Looping Sequencer"><meta property='og:description' content="This module is licensed under the MIT License\nModule GitHub link\nA random control voltage and trigger/gate sequencer Eurorack module This module is a random CV and trigger/gate sequencer with a built in quantizer with predefined scales. An upgrade from my first random sequencer module.\nBuilt with the Pi Pico. Coded in Python.\nDemo "><meta property='og:url' content='https://diysynthmnl.github.io/p/pi-pico-random-looping-sequencer/'><meta property='og:site_name' content='DIYSynthMNL'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Eurorack'><meta property='article:tag' content='Module'><meta property='article:tag' content='Digital'><meta property='article:tag' content='Random'><meta property='article:tag' content='Pi Pico'><meta property='article:published_time' content='2025-03-08T09:50:14+00:00'><meta property='article:modified_time' content='2025-03-13T13:23:19+00:00'><meta property='og:image' content='https://diysynthmnl.github.io/p/pi-pico-random-looping-sequencer/images/DSC06786.jpg'><meta name=twitter:title content="Pi Pico Random Looping Sequencer"><meta name=twitter:description content="This module is licensed under the MIT License\nModule GitHub link\nA random control voltage and trigger/gate sequencer Eurorack module This module is a random CV and trigger/gate sequencer with a built in quantizer with predefined scales. An upgrade from my first random sequencer module.\nBuilt with the Pi Pico. Coded in Python.\nDemo "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://diysynthmnl.github.io/p/pi-pico-random-looping-sequencer/images/DSC06786.jpg'><link rel="shortcut icon" href=/favicon.png><style>:root{--article-font-family:"AlteHaasGrotesk", var(--base-font-family)}</style><script>(function(){const e=document.createElement("style");e.innerHTML=`
            @font-face {
                font-family: 'AlteHaasGrotesk';
                src: url('fonts/AlteHaasGroteskRegular.woff2') format('woff2');
                font-weight: normal;
                font-style: normal;
            }

            @font-face {
                font-family: 'AlteHaasGrotesk';
                src: url('fonts/AlteHaasGroteskBold.woff2') format('woff2');
                font-weight: bold;
                font-style: normal;
            }
        `,document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_52ef62c2176f2bed.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>DIYSynthMNL</a></h1><h2 class=site-description>Learn how I design and build synth modules!</h2></div></header><ol class=menu-social><li><a href=https://github.com/DIYSynthMNL target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://instagram.com/diysynthmnl/ target=_blank title=instagram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-instagram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 8a4 4 0 014-4h8a4 4 0 014 4v8a4 4 0 01-4 4H8a4 4 0 01-4-4z"/><path d="M9 12a3 3 0 106 0 3 3 0 00-6 0"/><path d="M16.5 7.5v.01"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#a-random-control-voltage-and-triggergate-sequencer-eurorack-module>A random control voltage and trigger/gate sequencer Eurorack module</a></li><li><a href=#demo>Demo</a></li><li><a href=#inspiration>Inspiration</a></li><li><a href=#todo>TODO</a></li><li><a href=#features>Features</a><ol><li><a href=#basic-features>Basic features</a></li></ol></li><li><a href=#io>IO</a></li><li><a href=#menu-choices>Menu choices</a></li><li><a href=#how-it-randomizes>How it randomizes</a></li><li><a href=#schematic>Schematic</a></li><li><a href=#programming-instructions>Programming instructions</a><ol><li><a href=#starting-fresh-preparing-the-pico-for-the-firmware>Starting fresh (Preparing the pico for the firmware)</a></li><li><a href=#uploading-mainpy-and-lib>Uploading main.py and lib</a></li></ol></li><li><a href=#development-instructions>Development instructions</a><ol><li><a href=#developing-with-vscode>Developing with VSCode</a></li><li><a href=#menu-system>Menu system</a><ol><li><a href=#how-the-menu-system-works>How the menu system works</a></li></ol></li></ol></li><li><a href=#mcp-4725-lookup-table>MCP 4725 lookup table</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/pi-pico-random-looping-sequencer/><img src=/p/pi-pico-random-looping-sequencer/images/DSC06786_hu_8c4cf6e75d1ab2cc.jpg srcset="/p/pi-pico-random-looping-sequencer/images/DSC06786_hu_8c4cf6e75d1ab2cc.jpg 800w, /p/pi-pico-random-looping-sequencer/images/DSC06786_hu_e1099b8e04e8861d.jpg 1600w" width=800 height=534 loading=lazy alt="Featured image of post Pi Pico Random Looping Sequencer"></a></div><div class=article-details><header class=article-category><a href=/categories/design-notes/ style=background-color:#f4d03f;color:#000>Design Notes</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/pi-pico-random-looping-sequencer/>Pi Pico Random Looping Sequencer</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 08, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div><div class=article-status><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-progress"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 20.777a8.942 8.942.0 01-2.48-.969"/><path d="M14 3.223a9.003 9.003.0 010 17.554"/><path d="M4.579 17.093a8.961 8.961.0 01-1.227-2.592"/><path d="M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305"/><path d="M6.907 4.579A8.954 8.954.0 0110 3.223"/></svg>
In development</div></footer></div></header><section class=article-content><p>This module is licensed under the <a class=link href=https://opensource.org/licenses/MIT target=_blank rel=noopener>MIT License</a></p><p><a class=link href=https://github.com/DIYSynthMNL/Pi-Pico-Random-Looping-Sequencer target=_blank rel=noopener>Module GitHub link</a></p><h2 id=a-random-control-voltage-and-triggergate-sequencer-eurorack-module>A random control voltage and trigger/gate sequencer Eurorack module</h2><p>This module is a random CV and trigger/gate sequencer with a built in quantizer with predefined scales. An upgrade from my <a class=link href=https://github.com/NeoRecasata/RandomLoopingSequencer target=_blank rel=noopener>first random sequencer module</a>.</p><p>Built with the Pi Pico. Coded in Python.</p><h2 id=demo>Demo</h2><div class=video-wrapper><iframe loading=lazy src=https://www.youtube.com/embed/u1J9JrJe1Y0 allowfullscreen title="YouTube Video"></iframe></div><p><img src=/p/pi-pico-random-looping-sequencer/images/DSC06774.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06774_hu_40c881002bab48f1.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06774_hu_f0fa57e7f35df413.jpg 1024w" loading=lazy alt="Prototype plugged In" class=gallery-image data-flex-grow=149 data-flex-basis=359px></p><p><img src=/p/pi-pico-random-looping-sequencer/images/DSC06786.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06786_hu_df35ab7b2f3caa36.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06786_hu_dd7e28b28d94c0e1.jpg 1024w" loading=lazy alt="Prototype Front" class=gallery-image data-flex-grow=149 data-flex-basis=359px></p><p><img src=/p/pi-pico-random-looping-sequencer/images/DSC06789.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06789_hu_7126b48f244b56cc.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06789_hu_39a4d5a5340723fd.jpg 1024w" loading=lazy alt=Back class=gallery-image data-flex-grow=149 data-flex-basis=359px> <img src=/p/pi-pico-random-looping-sequencer/images/DSC06790.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06790_hu_50d1c9289b9948de.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06790_hu_5aac237d88440a2d.jpg 1024w" loading=lazy alt=Side class=gallery-image data-flex-grow=149 data-flex-basis=359px> <img src=/p/pi-pico-random-looping-sequencer/images/DSC06791.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06791_hu_6e50a9b0c2c813ae.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06791_hu_67ffce4993b624f6.jpg 1024w" loading=lazy alt=Back class=gallery-image data-flex-grow=149 data-flex-basis=359px> <img src=/p/pi-pico-random-looping-sequencer/images/DSC06792.jpg width=6026 height=4024 srcset="/p/pi-pico-random-looping-sequencer/images/DSC06792_hu_ecc24f1653108ff0.jpg 480w, /p/pi-pico-random-looping-sequencer/images/DSC06792_hu_bf4b69e6cfddc084.jpg 1024w" loading=lazy alt=Back class=gallery-image data-flex-grow=149 data-flex-basis=359px></p><h2 id=inspiration>Inspiration</h2><p>I&rsquo;ve taken some inspiration from the popular random module called the Turing Machine.
Also, I&rsquo;ve taken some code from the <a class=link href=https://github.com/Allen-Synthesis/EuroPi target=_blank rel=noopener>EuroPi</a>, specifically the analog reader for the CV inputs and knobs.</p><h2 id=todo>TODO</h2><ul><li><input checked disabled type=checkbox> Prototype</li><li><input checked disabled type=checkbox> Schematic</li><li><input disabled type=checkbox> CV input code</li><li><input checked disabled type=checkbox> Random triggers</li><li><input disabled type=checkbox> A better menu system</li><li><input disabled type=checkbox> Better logic, moving the rotary encoder while its running will make the sequencer glitch</li></ul><h2 id=features>Features</h2><h3 id=basic-features>Basic features</h3><ul><li>128x64 oled screen</li><li>Rotary Encoder</li><li>A random cv sequencer</li><li>A random trigger/gate sequencer</li><li>Trigger length based on clock input</li><li>Output cv quantized based on scale chosen</li><li>4 Analog parameter knobs with inputs</li></ul><h2 id=io>IO</h2><ul><li>4 Analog inputs with attenuation and offset knobs (serving as control knobs if no input is connected)</li><li>Clock/trigger input</li><li>Digital input (unused)</li><li>Trigger output</li><li>vOct output</li></ul><h2 id=menu-choices>Menu choices</h2><ul><li>Scale/Mode</li><li>CV Probability</li><li>Trigger Probability</li><li>Trigger length (0 to 100% of clock)</li><li>Number of steps (2 to 16 (You can modify the max steps in the code))</li><li>Octaves (the number of octaves it should range from (1 to 5))</li><li>Starting note (note 1 to 12)</li><li>CV sequence erase toggle</li><li>Trigger sequence erase toggle</li><li>Test CV scale/sequence toggle (it will run through the current scale chosen ascending)</li><li>Tuning CV scale/sequence toggle (to help you tune your vco)</li></ul><h2 id=how-it-randomizes>How it randomizes</h2><p>Every high clock pulse, the current step will be changed randomly depending on the probability.</p><p>The algorithm simply does the following:</p><p>It selects a random note from the current scale chosen.
Then it decides if the current step will be overwritten by the random note based on the probability.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>randomly_change_current_step_cv</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># get random index of scale chosen</span>
</span></span><span class=line><span class=cl>    <span class=n>random_scale_index</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>current_12bit_scale</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># set cv from scale list</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>generate_boolean_with_probability</span><span class=p>(</span><span class=n>cv_probability_of_change</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(&#34;change cv&#34;)</span>
</span></span><span class=line><span class=cl>        <span class=n>cv_sequence</span><span class=p>[</span><span class=n>current_step</span><span class=p>]</span> <span class=o>=</span> <span class=n>current_12bit_scale</span><span class=p>[</span><span class=n>random_scale_index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>randomly_change_step_trigger</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>trigger_sequence</span>
</span></span><span class=line><span class=cl>    <span class=n>trig_on_or_off</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>generate_boolean_with_probability</span><span class=p>(</span><span class=n>trigger_probability_of_change</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>trigger_sequence</span><span class=p>[</span><span class=n>current_step</span><span class=p>]</span> <span class=o>=</span> <span class=n>trig_on_or_off</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>generate_boolean_with_probability</span><span class=p>(</span><span class=n>probability</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Returns True or False based on the given probability.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    :param probability: The probability of returning True, in the range [0, 100].
</span></span></span><span class=line><span class=cl><span class=s2>    :type probability: float
</span></span></span><span class=line><span class=cl><span class=s2>    :return: True with probability `probability`, False otherwise.
</span></span></span><span class=line><span class=cl><span class=s2>    :rtype: bool
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>probability</span> <span class=o>&lt;=</span> <span class=mi>100</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Probability must be between 0 and 100&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>100</span> <span class=o>&lt;=</span> <span class=n>probability</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=schematic>Schematic</h2><p>I used a clone of the Pi Pico (Pi Pico Lite Black 16MB).</p><p>If you don&rsquo;t have it available, you can use an original Pi Pico. You just have to change some pin assignments. The clone I found has an additional ADC pin (GP29).
You can ommit the fourth cv input, you just have to adjust the code.</p><p><img src=/p/pi-pico-random-looping-sequencer/images/pi-pico-random-looping-sequencer-schematic-rev-0.1.0.jpg width=3508 height=2480 srcset="/p/pi-pico-random-looping-sequencer/images/pi-pico-random-looping-sequencer-schematic-rev-0.1.0_hu_a95fd58c05f55dae.jpg 480w, /p/pi-pico-random-looping-sequencer/images/pi-pico-random-looping-sequencer-schematic-rev-0.1.0_hu_a03582c0dc8f3a64.jpg 1024w" loading=lazy alt=Schematic class=gallery-image data-flex-grow=141 data-flex-basis=339px></p><h2 id=programming-instructions>Programming instructions</h2><h3 id=starting-fresh-preparing-the-pico-for-the-firmware>Starting fresh (Preparing the pico for the firmware)</h3><ol><li>Download <a class=link href=https://learn.adafruit.com/getting-started-with-raspberry-pi-pico-circuitpython/circuitpython#flash-resetting-uf2-3083182 target=_blank rel=noopener>flash_nuke.uf2</a> from Adafruit.</li><li>While holding down the BOOTSEL button on the Pi Pico, connect the usb cable to your computer.</li><li>It should be visible as a USB drive as RPI-RP2. Copy the downloaded <code>flash_nuke.uf2</code> into it. This will wipe any firmware in the Pico. Be sure to backup any files in your Pico.</li></ol><h3 id=uploading-mainpy-and-lib>Uploading main.py and lib</h3><p>You can use Thonny IDE or VSCode with the Micropico plugin.</p><h2 id=development-instructions>Development instructions</h2><p>If you need to program the pico while it is connected to eurorack power, you can.</p><ul><li>Turn on the module (eurorack power)</li><li>Plug in the usb to the pico (yes it won&rsquo;t damage the pico)</li></ul><h3 id=developing-with-vscode>Developing with VSCode</h3><p>Use VSCode with the plugin MicroPico</p><p>Use the commands while developing:</p><ul><li>Delete all files from pico</li><li>Upload project files to pico</li><li>Run</li></ul><h3 id=menu-system>Menu system</h3><p>I cobbled up some code to help me make a menu system for this project. Its still in the early stages of development. I still need to clean it up.
You can take a look at my <code>menu.py</code> code in the GitHub repo for this project.</p><h4 id=how-the-menu-system-works>How the menu system works</h4><p>SETTING SUBMENUS:</p><p>First, you would have to create instances of submenus in your main program.
Then you can put those instances in a list called <code>submenu_list</code>.
Lastly, call the <code>set_submenus()</code>.</p><p>MAKING THE DISPLAY AND ENCODER DO ITS JOB:</p><p>Call <code>loop_main_menu(update_main_program_values_callback=[callback_function])</code> in a while True loop.
The callback function is for updating the variables used in your main program. It is discussed more in detail below.</p><p>GETTING DATA FROM THE MENU SYSTEM INTO YOUR MAIN PROGRAM:</p><p>This library only handles the &ldquo;front end&rdquo; of your main python program, handling user interaction with the display and the rotary encoder.
It is designed to hold data but you should have variables in your main program so you can access the data easily.
For example, you need to get data from a submenu: you would need to call <code>get_submenu_list()</code> in order to update the main program&rsquo;s variables.
To help you update your main program&rsquo;s variables from the submenus, you will need to provide a callback function in your main program (example: <code>update_values()</code>).
This callback function will only be called when a submenu&rsquo;s selected value has been changed (user pressed the encoder button).</p><h2 id=mcp-4725-lookup-table>MCP 4725 lookup table</h2><p>The optimal lowest voltage should not be 0. The MCP4725 cannot output exactly 0v for some reason. Your tuning will not be exact when the value is 0.</p><div class=table-wrapper><table><thead><tr><th>note no</th><th>12 bit value</th><th>voltage output</th><th>keyboard note (example only)</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>C</td></tr><tr><td>1</td><td>68</td><td>0.0830078125</td><td>C#</td></tr><tr><td>2</td><td>136</td><td>0.166015625</td><td>D</td></tr><tr><td>3</td><td>204</td><td>0.2490234375</td><td>D#</td></tr><tr><td>4</td><td>272</td><td>0.33203125</td><td>E</td></tr><tr><td>5</td><td>340</td><td>0.4150390625</td><td>F</td></tr><tr><td>6</td><td>408</td><td>0.498046875</td><td>F#</td></tr><tr><td>7</td><td>476</td><td>0.5810546875</td><td>G</td></tr><tr><td>8</td><td>544</td><td>0.6640625</td><td>G#</td></tr><tr><td>9</td><td>612</td><td>0.7470703125</td><td>A</td></tr><tr><td>10</td><td>680</td><td>0.830078125</td><td>A#</td></tr><tr><td>11</td><td>748</td><td>0.9130859375</td><td>B</td></tr><tr><td>12</td><td>816</td><td>0.99609375</td><td>C</td></tr><tr><td>13</td><td>884</td><td>1.079101563</td><td>C#</td></tr><tr><td>14</td><td>952</td><td>1.162109375</td><td>D</td></tr><tr><td>15</td><td>1020</td><td>1.245117188</td><td>D#</td></tr><tr><td>16</td><td>1088</td><td>1.328125</td><td>E</td></tr><tr><td>17</td><td>1156</td><td>1.411132813</td><td>F</td></tr><tr><td>18</td><td>1224</td><td>1.494140625</td><td>F#</td></tr><tr><td>19</td><td>1292</td><td>1.577148438</td><td>G</td></tr><tr><td>20</td><td>1360</td><td>1.66015625</td><td>G#</td></tr><tr><td>21</td><td>1428</td><td>1.743164063</td><td>A</td></tr><tr><td>22</td><td>1496</td><td>1.826171875</td><td>A#</td></tr><tr><td>23</td><td>1564</td><td>1.909179688</td><td>B</td></tr><tr><td>24</td><td>1632</td><td>1.9921875</td><td>C</td></tr><tr><td>25</td><td>1700</td><td>2.075195313</td><td>C#</td></tr><tr><td>26</td><td>1768</td><td>2.158203125</td><td>D</td></tr><tr><td>27</td><td>1836</td><td>2.241210938</td><td>D#</td></tr><tr><td>28</td><td>1904</td><td>2.32421875</td><td>E</td></tr><tr><td>29</td><td>1972</td><td>2.407226563</td><td>F</td></tr><tr><td>30</td><td>2040</td><td>2.490234375</td><td>F#</td></tr><tr><td>31</td><td>2108</td><td>2.573242188</td><td>G</td></tr><tr><td>32</td><td>2176</td><td>2.65625</td><td>G#</td></tr><tr><td>33</td><td>2244</td><td>2.739257813</td><td>A</td></tr><tr><td>34</td><td>2312</td><td>2.822265625</td><td>A#</td></tr><tr><td>35</td><td>2380</td><td>2.905273438</td><td>B</td></tr><tr><td>36</td><td>2448</td><td>2.98828125</td><td>C</td></tr><tr><td>37</td><td>2516</td><td>3.071289063</td><td>C#</td></tr><tr><td>38</td><td>2584</td><td>3.154296875</td><td>D</td></tr><tr><td>39</td><td>2652</td><td>3.237304688</td><td>D#</td></tr><tr><td>40</td><td>2720</td><td>3.3203125</td><td>E</td></tr><tr><td>41</td><td>2788</td><td>3.403320313</td><td>F</td></tr><tr><td>42</td><td>2856</td><td>3.486328125</td><td>F#</td></tr><tr><td>43</td><td>2924</td><td>3.569335938</td><td>G</td></tr><tr><td>44</td><td>2992</td><td>3.65234375</td><td>G#</td></tr><tr><td>45</td><td>3060</td><td>3.735351563</td><td>A</td></tr><tr><td>46</td><td>3128</td><td>3.818359375</td><td>A#</td></tr><tr><td>47</td><td>3196</td><td>3.901367188</td><td>B</td></tr><tr><td>48</td><td>3264</td><td>3.984375</td><td>C</td></tr><tr><td>49</td><td>3332</td><td>4.067382813</td><td>C#</td></tr><tr><td>50</td><td>3400</td><td>4.150390625</td><td>D</td></tr><tr><td>51</td><td>3468</td><td>4.233398438</td><td>D#</td></tr><tr><td>52</td><td>3536</td><td>4.31640625</td><td>E</td></tr><tr><td>53</td><td>3604</td><td>4.399414063</td><td>F</td></tr><tr><td>54</td><td>3672</td><td>4.482421875</td><td>F#</td></tr><tr><td>55</td><td>3740</td><td>4.565429688</td><td>G</td></tr><tr><td>56</td><td>3808</td><td>4.6484375</td><td>G#</td></tr><tr><td>57</td><td>3876</td><td>4.731445313</td><td>A</td></tr><tr><td>58</td><td>3944</td><td>4.814453125</td><td>A#</td></tr><tr><td>59</td><td>4012</td><td>4.897460938</td><td>B</td></tr><tr><td>60</td><td>4080</td><td>4.98046875</td><td>C</td></tr></tbody></table></div></section><footer class=article-footer><section class=article-tags><a href=/tags/eurorack/>Eurorack</a>
<a href=/tags/module/>Module</a>
<a href=/tags/digital/>Digital</a>
<a href=/tags/random/>Random</a>
<a href=/tags/pi-pico/>Pi Pico</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under the MIT License</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Mar 13, 2025 13:23 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/europi-build/><div class=article-image><img src=/p/europi-build/DSC06874.c72dd3afe1291fe676fba6e6cd76d34e_hu_a57be433c959578d.jpg width=250 height=150 loading=lazy alt="Featured image of post Europi Build" data-hash="md5-xy3Tr+EpH+Z2+6bmzXbTTg=="></div><div class=article-details><h2 class=article-title>Europi Build</h2></div></a></article><article class=has-image><a href=/p/ladik-r110-clone/><div class=article-image><img src=/p/ladik-r110-clone/ladik_r-110_side.923104536b190133667d2834b69f2948_hu_fc4154330b2e8fa6.jpg width=250 height=150 loading=lazy alt="Featured image of post Ladik R110 Clone" data-hash="md5-kjEEU2sZATNmfSg0tp8pSA=="></div><div class=article-details><h2 class=article-title>Ladik R110 Clone</h2></div></a></article><article class=has-image><a href=/p/multi-saturation-module/><div class=article-image><img src=/p/multi-saturation-module/DSC06849.99f65042f662ad108f0b1a30de8aa749_hu_b83140e804818cce.jpg width=250 height=150 loading=lazy alt="Featured image of post Multi Saturation Module" data-hash="md5-mfZQQvZirRCPCxow3oqnSQ=="></div><div class=article-details><h2 class=article-title>Multi Saturation Module</h2></div></a></article><article class=has-image><a href=/p/electric-druid-vcdo/><div class=article-image><img src=/p/electric-druid-vcdo/images/DSC06823.fe40e76612a9defa0844bf78391af6c7_hu_b4435a6283c46b57.jpg width=250 height=150 loading=lazy alt="Featured image of post Electric Druid VCDO" data-hash="md5-/kDnZhKp3voIRL94ORr2xw=="></div><div class=article-details><h2 class=article-title>Electric Druid VCDO</h2></div></a></article><article class=has-image><a href=/p/as3310-voltage-controlled-adsr/><div class=article-image><img src=/p/as3310-voltage-controlled-adsr/images/DSC06835.2150590391d5492f07e68a018ee33574_hu_84e8a01ce67f44ad.jpg width=250 height=150 loading=lazy alt="Featured image of post AS3310 Voltage Controlled ADSR" data-hash="md5-IVBZA5HVSS8H5ooBjuM1dA=="></div><div class=article-details><h2 class=article-title>AS3310 Voltage Controlled ADSR</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 DIYSynthMNL</section><section class=powerby>All rights reserved.<br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>